function scrollTo(e,n,t){if(e){var s="number"!=typeof e?e.offset().top:e,n=n||700;t||(s-=$(".js-header").outerHeight()),$("html,body").animate({scrollTop:s},n)}}function toggleClass(e,n,t){var s=$(e),i=s.hasClass(n);i?s.removeClass(n):s.addClass(n),t&&t(i)}$(function(){function e(){for(var e=0;e<p.length;e++)TweenMax.to(p[e],m,{morphSVG:v[e]})}function n(){for(var e=0;e<p.length;e++)TweenMax.to(p[e],m,{morphSVG:u[e]})}function t(){var e={};c.each(function(){var n=$(this),t=n.offset().top.toFixed(0);t in e||(e[t]=[]),e[t].push(n)}),$.each(e,function(){var e=0;$.each(this,function(){var n=$(this).outerHeight();n>e&&(e=n)}),$.each(this,function(){$(this).css("height",e)})})}var s=$(".js-case-sort"),i=$(".js-case-catalog");if(s.length||i.length){var a,o=s.find(".js-cSorting-cat"),r=s.find(".js-case-btn"),l=$(".js-case-catalog-inner"),c=i.find(".js-case-wr"),f=r.find(".js-case-btn__main"),p=f.find("path"),d=r.find(".js-case-btn__normal"),u=d.find("path"),h=r.find(".js-case-btn__final"),v=h.find("path"),m=.6;r.click(function(){var t=s.hasClass("_mob-sorting-open");t?(s.removeClass("_mob-sorting-open"),n()):(s.addClass("_mob-sorting-open"),e())}),a=l.isotope({itemSelector:".js-case-wr",columnWidth:".js-case-wr",percentPosition:!0,layoutMode:"fitRows",stagger:20}),t(),o.bind("click",function(){var e=$(this),n=e.data("sort-type"),t=c.filter('[data-sort-type="'+n+'"]'),s=(c.not(t),'[data-sort-type="'+n+'"]');n||(s=".js-case-wr"),a.isotope({filter:s})}),a.on("layoutComplete",function(e,n){})}}),$(function(){!function(e){e.fn.priceCalc=function(n){e(this).each(function(){function n(e){for(var n=0;n<=u.length;n++)if(e<u[n].value)return void(s=u[n].options)}function t(){s.price?(a.removeClass("_custom-pricing"),o.text(s.price)):a.addClass("_custom-pricing"),r.text(s.usersString)}var s,i,a=e(this),o=a.find(".js-priceCalc_itog"),r=a.find(".js-priceCalc_top-node"),l=a.find(".js-priceCalc_ranges"),c=(a.find(".js-priceCalc_input"),a.find(".js-priceCalc__options-toggle")),f=a.find(".js-priceCalc__options"),p=(a.data("step")||50,a.data("min-value")-1),d=a.data("max-value")-1,u=_GLOB.priceRangeSettings,h={min:p,"1%":[p,5e4],"20%":[5e5,1e5],"40%":[1e6,2e5],"60%":[2e6,4e5],"80%":[4e6,5e5],max:d};if(!o.length){var v=a.data("itog-target");o=e(v)}noUiSlider.create(l[0],{start:p,connect:!1,range:h}),i=l[0].noUiSlider,i.on("update",function(e,s){n(e[0]),t(),console.log(e[0])}),c.bind("click",function(e){f.slideToggle(),e.preventDefault()})})}}(jQuery)}),$(function(){var e=$(".js-priceCalc");e.length&&e.priceCalc()}),$(function(){function e(){var e=$W.scrollTop();e>10?$B.addClass("_scrolled"):$B.removeClass("_scrolled")}var n=$(".js-header");n.length&&(e(),$W.scroll(function(){e()}))}),$(function(){function e(){for(var e=0;e<a.length;e++)TweenMax.to(a[e],s,{morphSVG:c[e]})}function n(){for(var e=0;e<a.length;e++)TweenMax.to(a[e],s,{morphSVG:r[e]})}var t=$(".js-header-menu-btn");if(t.length){var s=.4,i=t.find(".js-header-menu-btn__main"),a=i.find("path"),o=t.find(".js-header-menu-btn__normal"),r=o.find("path"),l=t.find(".js-header-menu-btn__final"),c=l.find("path");t.click(function(){var t=$B.hasClass("_mob-menu-open");t?($B.removeClass("_mob-menu-open"),n()):($B.addClass("_mob-menu-open"),e())})}}),$(function(){function e(){var e=n.data("state"),i=1==e?2:1,a=1==i?"Навести порядок":"Вернуть беспорядок";s.removeClass("_active").eq(i-1).addClass("_active"),t.text(a),n.data("state",i)}var n=$(".js-before-after");if(n.length){var t=n.find(".js-before-after_btn"),s=n.find(".js-before-after_tab");t.bind("click",function(){e()})}}),$(function(){function e(){var e=parseInt($(".js-header").height()),t=parseInt(n.outerHeight()),s=n.offset().top,i=s+t,a=$W.scrollTop();a>=s&&.9*i>a+e&&n.addClass("_animate")}var n=$(".js-index-promo");n.length&&(e(),$W.bind("scroll resize",function(){var n=$W.width();_GLOB.breakpoints.sm<n&&e()}))}),$(function(){var e=$(".js-gall");if(e.length){var n={},t=0,s=$(".js-pswp")[0],i={index:0};$.each(e,function(){var e,s,i=$(this),a=i.data("gall-gr"),o=i.attr("href")||i.data("href"),r=i.find("img");a||(a=t,i.data("gall-gr",t),t++),n[a]||(n[a]=[]),r.length&&(e=r[0].naturalWidth,s=r[0].naturalHeight),n[a].push({src:o,w:e||600,h:s||400})}),$D.on("click",".js-gall",function(t){var a,o=$(this),r=o.data("gall-gr");o.data("href")||o.attr("href");return i.index=e.filter('[data-gall-gr="'+r+'"]').index(o),a=new PhotoSwipe(s,PhotoSwipeUI_Default,n[r],i),a.init(),t.preventDefault(),!1})}}),$(function(){var e=$(".js-video-popup");e.length&&e.magnificPopup({type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,closeMarkup:'<span class="mfp-close iconic iconic--cross2 popup__closer js-popup_closer"></span>'})});var $W=$(window),$D=$(document),$H=$("html"),$B=$("body");if(!_GLOB)var _GLOB={};_GLOB.breakpoints={xl:1800,ll:1500,ls:1380,m:1288,mm:1168,ms:1020,sl:960,sm:860,s:767,ss:630,xs:480},function(e){e.fn.scrollTrigger=function(n){var t=700,n=n||"";e(this).each(function(){var s=e(this);n.speed&&(t=n.speed),s.bind("click",function(i){var a=s.attr("href")||s.data("href");"number"!=typeof a&&(a=e(a),n.margin&&(a=a.offset().top-parseInt(a.css("margin-top")))),n&&n.callbackBefore&&n.callbackBefore(),scrollTo(a,t),n&&n.callbackAfter&&n.callbackAfter(),i.preventDefault()})})}}(jQuery),function(e){e.fn.tabs=function(){e(this).each(function(){function n(e){i.removeClass("_active").eq(e).addClass("_active"),s.removeClass("_active").eq(e).addClass("_active")}var t=e(this),s=t.find(".js-tabs-btn"),i=t.find(".js-tabs-tab");s.bind("click",function(){var t=e(this).index();n(t)})})}}(jQuery),$(function(){$(".js-scroll-trigger").scrollTrigger()}),$(function(){var e=$(".js-tabs");e.length&&e.tabs({})}),$(function(){var e=$(".js-side-popup-btn");if(e.length){var n=$(".js-side-popup"),t=$(".js-side-popup_closer");e.bind("click",function(e){var t=$(this).data("popup-name"),s=n.filter('[data-popup-name="'+t+'"]');s.addClass("_open"),$B.addClass("_side-popup-open"),e.stopPropagation(),$W.bind("click",function(e){var n=$(e.target);n.closest(s).length||(s.removeClass("_open"),$B.removeClass("_side-popup-open"))})}),t.bind("click",function(){var e=$(this).parents(".js-side-popup");e.removeClass("_open"),$B.removeClass("_side-popup-open")})}}),$(function(){var e=$(".js-popup-btn");e.magnificPopup({preloader:!1,type:$(this).data("type")||"inline",closeMarkup:'<span class="mfp-close iconic iconic--cross2 popup__closer js-popup_closer"></span>'})}),$(function(){var e=$(".js-slider-arr--r")[0].outerHTML,n=$(".js-slider-arr--l")[0].outerHTML;_GLOB.slickPrevArrHtml=n,_GLOB.slickNextArrHtml=e}),$(function(){!function(e){e.fn.casesSl=function(n){e(this).each(function(){function n(){var n=0,t=0;i.each(function(){var s,i,a=e(this),o=a.find(".js-cases-sl__col"),r=o.first(),l=r.outerHeight();l>n&&(n=l),o.length>1&&(s=o.last(),i=s.outerHeight(),i>t&&(t=i))}),i.each(function(){var s,i=e(this),a=i.find(".js-cases-sl__col"),o=a.first();o.css("min-height",n),a.length>1&&(s=a.last(),s.css("min-height",t))})}function t(){var n=$W.width(),t=s.width();i.each(function(){var s,i=e(this),c=a;n<=_GLOB.breakpoints.ms&&(c=o),n<=_GLOB.breakpoints.sm&&(c=r),n<=_GLOB.breakpoints.ss&&(c=l),s=i.hasClass("_double")?t*c[1]:t*c[0],i.css("width",s)})}var s=e(this),i=s.find(".cases-slider__col"),a=[.2,.4],o=[.25,.5],r=[.5,1],l=[.5,1];t(),n(),$W.resize(function(){t(),n()}),s.slick({variableWidth:!0,slidesToShow:5,slidesToScroll:2,arrows:!0,dots:!0,swipe:!1,nextArrow:_GLOB.slickNextArrHtml,prevArrow:_GLOB.slickPrevArrHtml,responsive:[{breakpoint:_GLOB.breakpoints.ms,settings:{slidesToShow:4}},{breakpoint:_GLOB.breakpoints.sm,settings:{slidesToShow:2,swipe:!0}},{breakpoint:_GLOB.breakpoints.ss,settings:{slidesToShow:2,swipe:!0}}]})})}}(jQuery)}),$(function(){!function(e){e.fn.examplesSl=function(n){e(this).each(function(){var n=e(this);n.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!0,swipe:!1,nextArrow:_GLOB.slickNextArrHtml,prevArrow:_GLOB.slickPrevArrHtml,responsive:[{breakpoint:_GLOB.breakpoints.s,settings:{swipe:!0}}]})})}}(jQuery)}),$(function(){!function(e){e.fn.regularSlider=function(n){e(this).each(function(){var n=e(this);n.slick({slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,swipe:!1,nextArrow:_GLOB.slickNextArrHtml,prevArrow:_GLOB.slickPrevArrHtml,responsive:[{breakpoint:_GLOB.breakpoints.ls,settings:{dots:!0}},{breakpoint:_GLOB.breakpoints.sm,settings:{dots:!0,swipe:!0}}]})})}}(jQuery)}),$(function(){var e=$(".js-cases-sl");e.length&&e.casesSl()}),$(function(){var e=$(".js-examples-sl");e.length&&e.examplesSl()}),$(function(){var e=$(".js-prod-slider");e.length&&e.regularSlider()}),$(function(){function e(e,t){var s=e.find(".js-slider-arr__main"),i=s.find("path"),a=s.find("circle");if("toHover"==t)for(var o=e.find(".js-slider-arr__final"),r=o.find("path"),l=0;l<i.length;l++)TweenMax.to(i[l],n,{morphSVG:r[l]});if("toNormal"==t)for(var c=e.find(".js-slider-arr__normal"),f=c.find("path"),l=0;l<i.length;l++)TweenMax.to(i[l],n,{morphSVG:f[l]});new TimelineLite;TweenMax.staggerFrom(a,1,{drawSVG:0})}var n=.3;$D.on("mouseenter",".js-slider-arr",function(){e($(this),"toHover")}).on("mouseleave",".js-slider-arr",function(){e($(this),"toNormal")})});