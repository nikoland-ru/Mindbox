function scrollTo(e,n,t){if(e){var a="number"!=typeof e?e.offset().top:e,n=n||700;t||(a-=$(".js-header").outerHeight()),$("html,body").animate({scrollTop:a},n)}}function toggleClass(e,n,t){var a=$(e),i=a.hasClass(n);i?a.removeClass(n):a.addClass(n),t&&t(i)}var $W=$(window),$D=$(document),$H=$("html"),$B=$("body");if(!_GLOB)var _GLOB={};_GLOB.breakpoints={xl:1800,ll:1500,ls:1380,m:1288,mm:1168,ms:1020,sl:960,sm:860,s:767,ss:630,xs:480},function(e){e.fn.scrollTrigger=function(n){var t=700,n=n||"";e(this).each(function(){var a=e(this);n.speed&&(t=n.speed),a.bind("click",function(i){var r=a.attr("href")||a.data("href");"number"!=typeof r&&(r=e(r),n.margin&&(r=r.offset().top-parseInt(r.css("margin-top")))),n&&n.callbackBefore&&n.callbackBefore(),scrollTo(r,t),n&&n.callbackAfter&&n.callbackAfter(),i.preventDefault()})})}}(jQuery),function(e){e.fn.tabs=function(){e(this).each(function(){function n(e){i.removeClass("_active").eq(e).addClass("_active"),a.removeClass("_active").eq(e).addClass("_active")}var t=e(this),a=t.find(".js-tabs-btn"),i=t.find(".js-tabs-tab");a.bind("click",function(){var t=e(this).index();n(t)})})}}(jQuery),function(e){e.fn.getWidthInPercent=function(){var n=e(this),t=parseFloat(n.css("width"))/parseFloat(n.parent().css("width"));return Math.round(100*t)+"%"}}(jQuery),function(e){e.fn.priceFormat=function(n){for(var t=String(n),a="",i=t.length-1;i>=0;i--)a=t[i]+a,(t.length-i)%3==0&&(a=" "+a);return e.trim(a)}}(jQuery),$.scrollbarWidth=function(){var e,n,t;return void 0===t&&(e=$('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),n=e.children(),t=n.innerWidth()-n.height(99).innerWidth(),e.remove()),t},function(e){e.fn.elemInView=function(n){var t=e(this),a=n||.75,i=$W.scrollTop(),r=$W.height(),o=r*a,s=i+r/2-o/2,c=i+r/2+o/2,l=t.offset().top,p=l+t.outerHeight(),d=!1,u=l>=s,f=c>=l,h=p>=s,v=c>=p;return(u&&f||h&&v)&&(d=!0),s>=l&&p>=c&&(d=!0),d}}(jQuery),$(function(){var e=$(".js-scroll-trigger");e.length&&e.scrollTrigger({})}),$(function(){var e=$(".js-tabs");e.length&&e.tabs({})}),$(function(){$(function(){var e=$(".js-stats");if(e.length){var n=e.data("url"),t=e.find(".js-stats_latency-node"),a=e.find(".js-stats_uptime-node"),i=e.find(".js-stats_canvas");$.ajax({type:"GET",url:n,success:function(e){var n=JSON.parse(e);t.text(n.Latency),a.text(n.Uptime),i.sparkline(n.Values,{type:"bar",height:22,barWidth:4,zeroAxis:!1,barSpacing:2,barColor:"#1FCD00"})}})}})}),jQuery.extend(jQuery.validator.messages,{required:"Введите данные.",remote:"Пожалуйста, введите правильное значение.",email:"Пожалуйста, введите корректный адрес электронной почты.",url:"Пожалуйста, введите корректный URL.",date:"Пожалуйста, введите корректную дату.",dateISO:"Пожалуйста, введите корректную дату в формате ISO.",number:"Пожалуйста, введите число.",digits:"Пожалуйста, вводите только цифры.",creditcard:"Пожалуйста, введите правильный номер кредитной карты.",equalTo:"Пожалуйста, введите такое же значение ещё раз.",extension:"Пожалуйста, выберите файл с правильным расширением.",maxlength:$.validator.format("Пожалуйста, введите не больше {0} символов."),minlength:$.validator.format("Пожалуйста, введите не меньше {0} символов."),rangelength:$.validator.format("Пожалуйста, введите значение длиной от {0} до {1} символов."),range:$.validator.format("Пожалуйста, введите число от {0} до {1}."),max:$.validator.format("Пожалуйста, введите число, меньшее или равное {0}."),min:$.validator.format("Пожалуйста, введите число, большее или равное {0}.")}),jQuery.validator.addMethod("email",function(e,n){return this.optional(n)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*[.][a-zA-Z0-9-]{1,8}$/.test(e)},"Неверный формат."),jQuery.validator.addMethod("tel",function(e,n){return this.optional(n)||/^((8|\+7|\+8)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/.test(e)},"Неверный формат."),jQuery.validator.addClassRules("js_field_digits",{digits:!0}),function(e){e.fn.validationManager=function(){e(this).each(function(){var n=e(this),t=n.find(".js-form__all-msg"),a=n.attr("action"),i=(n.data("validation-case"),{errorClass:"input-error",validClass:"input-success",focusCleanup:!1,focusInvalid:!1,errorElement:"span",ignore:".ignore",submitHandler:function(){e.ajax({type:"POST",url:a,data:n.serialize(),success:function(e){var n=JSON.parse(e),a=n.error;a&&t.html(n.message)}})}});n.validate(i)})}}(jQuery),$(function(){var e=$(".js-form");e.length&&e.validationManager()}),$(function(){!function(e){e.fn.priceCalc=function(n){e(this).each(function(){function n(e){for(var n=0;n<=g.length-1;n++)if(e<=g[n].value)return void(i=g[n])}function t(){var n=Number(i.options.price),t=n,a=[],r=0;return u.filter(":checked").each(function(){var n=e(this),t=n.val(),i=n.data("final-percent"),o=["plus"];"-"==t[0]&&(o[0]="minus"),t.indexOf("%")&&(o[1]=parseInt(t)/100,i?r+=parseInt(t)/100:a.push(o))}),e.each(a,function(){var e=(n*this[1]).toFixed(0);"minus"==this[0]&&(e=-e),e=Number(e),t+=e}),t+=t*r,t.toFixed(0)}function a(){var n;i.options.price?(n=t(),o.removeClass("_custom-pricing"),s.text(e().priceFormat(n))):(o.addClass("_custom-pricing"),n=""),p.val(i.value),d.val(n),c.text(i.options.usersString)}var i,r,o=e(this),s=e(".js-priceCalc_itog"),c=o.find(".js-priceCalc_top-node"),l=o.find(".js-priceCalc_ranges"),p=o.find(".js-priceCalc_input-users"),d=o.find(".js-priceCalc_input-counter-price"),u=o.find(".js-priceCalc_chkb"),f=o.find(".js-priceCalc__options-toggle"),h=o.find(".js-priceCalc__options"),v=o.data("min-value"),m=o.data("max-value"),g=_GLOB.priceRangeSettings,$={min:v,"0%":[v,1],"3%":[v+1,5e4],"35%":[5e5,5e4],"50%":[1e6,1e5],"65%":[2e6,2e5],"80%":[4e6,25e4],"100%":[1e7,5e5],max:m};if(!s.length){var _=o.data("itog-target");s=e(_)}noUiSlider.create(l[0],{start:v,connect:!1,range:$}),r=l[0].noUiSlider,r.on("update",function(e,t){n(e[0]),a()}),u.change(function(){n(r.get()),a()}),f.bind("click",function(e){h.slideToggle(),e.preventDefault()})})}}(jQuery)}),function(e){e.fn.onlyListedKeys=function(n){e(this).each(function(){var t=e(this),a=t.val();t.bind("change input",function(){var e=t.val();n.test(e)?a=e:t.val(a)})})}}(jQuery),$(function(){var e=$(".js-priceCalc");e.length&&e.priceCalc()}),$(function(){var e=$(".js-only-digits");e.length&&e.onlyListedKeys(/^([0-9](\.)?(-)?(,)?){0,}$/)}),$(function(){function e(){var e=$W.scrollTop();e>10?$B.addClass("_scrolled"):$B.removeClass("_scrolled")}var n=$(".js-header");n.length&&(e(),$W.scroll(function(){e()}))}),$(function(){function e(){for(var e=0;e<r.length;e++)TweenMax.to(r[e],a,{morphSVG:l[e]})}function n(){for(var e=0;e<r.length;e++)TweenMax.to(r[e],a,{morphSVG:s[e]})}var t=$(".js-header-menu-btn");if(t.length){var a=.4,i=t.find(".js-header-menu-btn__main"),r=i.find("path"),o=t.find(".js-header-menu-btn__normal"),s=o.find("path"),c=t.find(".js-header-menu-btn__final"),l=c.find("path");t.click(function(){var t=$B.hasClass("_mob-menu-open");t?($B.removeClass("_mob-menu-open"),n()):($B.addClass("_mob-menu-open"),e())})}}),$(function(){var e='<div class="mfp-close popup-cross popup__closer js-popup_closer"><svg viewBox="0 0 30 30" preserveAspectRatio="none"><g><polyline  points="27.504,3.486 15.004,15.969 14.034,14.997 26.534,2.514 "/><polyline  points="15.974,15.017 3.474,27.5 2.504,26.529 15.004,14.046 "/><polyline  points="3.484,2.506 15.966,15.007 14.995,15.977 2.512,3.476 "/><polyline  points="15.013,14.038 27.496,26.538 26.525,27.508 14.042,15.008 "/></g></svg></div>';_GLOB.closerReference=e}),$(function(){function e(e){e.removeClass("_open"),$B.removeClass("_side-popup-open _side-popup-moved-page"),r.css("margin-right",""),$(".header__nav").css("margin-right",""),o.css({transform:""}),o.one("webkitTransitionEnd transitionend msTransitionEnd oTransitionEnd",function(){$B.removeClass("_page-inner-moved"),console.log("done")})}function n(e){var n="",t=$(".js-priceCalc_top-node").text(),a=$(".js-priceCalc_input-counter-price").val(),i=$(".js-priceCalc_chkb:checked");t&&(n+='<p class="side-popup__inject-option"><b>Кол-во покупателей: </b>'+t+"</p>"),a&&(n+='<p class="side-popup__inject-option"><b>Цена: </b>'+$().priceFormat(a)+" Р</p>"),a&&i.length&&(n+='<h6 class="h4">Опции</h6>',$.each(i.parents(".checkbox-label").find(".checkbox-label__txt"),function(){var e=$(this).text();n+='<p class="side-popup__inject-option">'+e+"</p>"})),e.html(n),e.append($(".js-priceCalc input").clone())}var t=$(".js-side-popup-btn");if(t.length){var a=$(".js-side-popup"),i=$(".js-side-popup_closer"),r=$(".page-inner,.js-header"),o=$(".page-inner");t.bind("click",function(t){var i=$(this),s=i.data("popup-name"),c=i.data("calc-inject"),l=i.data("page-move"),p=a.filter('[data-popup-name="'+s+'"]'),d=p.find(".js-side-popup__inject-wr"),u=p.find(".js-side-popup__inject");return p.hasClass("_open")?void e():(u.html(""),c?(d.addClass("_active"),n(u)):d.removeClass("_active"),p.addClass("_open"),l?(o.css({transform:"translate3d(-"+p.width()+"px,0,0)"}),$B.addClass("_side-popup-open _side-popup-moved-page _page-inner-moved")):($B.addClass("_side-popup-open"),r.css("margin-right",$.scrollbarWidth()),$W.width()<=_GLOB.breakpoints.ms&&$(".header__nav").css("margin-right",$.scrollbarWidth())),t.stopPropagation(),void $W.bind("click",function(n){var t=$(n.target);t.closest(p).length||(e(p),$W.unbind("click"))}))}),i.bind("click",function(){var n=$(this).parents(".js-side-popup");e(n)})}}),$(function(){var e=$(".js-popup-btn"),n=$(".js-header");e.magnificPopup({preloader:!1,type:e.data("type")||"inline",closeMarkup:_GLOB.closerReference,callbacks:{open:function(){n.css("margin-right",$.scrollbarWidth())},close:function(){n.css("margin-right","")}}})}),$(function(){var e=$(".js-video-popup");e.length&&e.magnificPopup({type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1,closeMarkup:_GLOB.closerReference,callbacks:{open:function(){$(".mfp-bg").css("background","rgba(1, 2, 0, 1)")},close:function(){$(".mfp-bg").css("background","")}}})});